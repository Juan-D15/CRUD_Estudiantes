{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Registrar usuario</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/registrar-usuario.css' %}">
</head>
<body>
  <div class="frame">

    <!-- Volver -->
    <a class="back" href="{% url 'admin_usr_index' %}" aria-label="Volver">
      <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
        <path d="M14 6l-6 6 6 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span>Volver</span>
    </a>

    <main class="wrap">
      <!--
        El card lleva la clase .is-secretaria cuando cambiamos al modo de registro de secretaría.
        Por defecto (sin la clase) es modo administrador.
      -->
      <section id="card" class="register-card" aria-labelledby="title">
        <!-- Panel negro deslizante (50%) -->
        <aside class="role-panel" aria-live="polite">
          <div class="role-inner">
            <p class="hint">REGISTRA UN NUEVO USUARIO</p>

            <!-- Título del rol -->
            <h2 class="role-title role-admin">ADMINISTRADOR</h2>
            <h2 class="role-title role-sec">SECRETARIO(A)</h2>

            <!-- Iconos (SVG en código) -->
            <div class="role-icon">
              <!-- Admin: usuario con laptop -->
              <svg class="icon-admin" viewBox="0 0 64 64" width="76" height="76" aria-hidden="true">
                <circle cx="32" cy="16.5" r="8" fill="none" stroke="currentColor" stroke-width="2"/>
                <path d="M18 33c3-6 9-7 14-7s11 1 14 7" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <rect x="18.5" y="34.5" width="27" height="16" rx="2.5" fill="none" stroke="currentColor" stroke-width="2"/>
                <rect x="21.5" y="37" width="21" height="11" rx="1.5" fill="none" stroke="currentColor" stroke-width="2"/>
                <path d="M16 52h32" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>

              <!-- Secretaría: persona con lápiz -->
              <svg class="icon-sec" viewBox="0 0 64 64" width="76" height="76" aria-hidden="true">
                <circle cx="28" cy="24" r="10" fill="none" stroke="currentColor" stroke-width="2"/>
                <path d="M14 48c4-7 9-10 14-10s10 3 14 10" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M40 44l12 12 6-6-12-12-6 6z" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                <path d="M54 50l-4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>

            <!-- Botón para cambiar de rol -->
            <button id="btnSwitch" class="btn-switch" type="button">
              <span class="to-secretaria">Registrar secretario(a) ›</span>
              <span class="to-admin">
                <svg viewBox="0 0 24 24" width="16" height="16" aria-hidden="true">
                  <path d="M15 6l-6 6 6 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Registrar administrador
              </span>
            </button>
          </div>
        </aside>

        <!-- Lado del formulario -->
        <div class="form-side">
          <h1 id="title" class="title">Registrar usuario</h1>

          <form id="formUser" novalidate>
            <input type="hidden" id="rol" name="rol" value="admin"/>

            <label class="label">Usuario</label>
            <div class="input-wrap">
              <input id="usuario" name="usuario" type="text" placeholder="usuario_app" required>
              <span class="icon">
                <svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="4" fill="none" stroke="currentColor" stroke-width="2"/><path d="M4 20c2.5-4 6-6 8-6s5.5 2 8 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
              </span>
            </div>
            <p class="err" id="eUsuario"></p>

            <label class="label">Nombre completo</label>
            <div class="input-wrap">
              <input id="nombre" name="nombre" type="text" placeholder="Nombre y apellidos" required>
              <span class="icon">
                <svg viewBox="0 0 24 24"><path d="M12 12a4 4 0 100-8 4 4 0 000 8zM4 20c2-3.5 5-5 8-5s6 1.5 8 5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
              </span>
            </div>
            <p class="err" id="eNombre"></p>

            <label class="label">Correo</label>
            <div class="input-wrap">
              <input id="correo" name="correo" type="email" placeholder="correo@dominio.com" required>
              <span class="icon">
                <svg viewBox="0 0 24 24"><path d="M4 6h16v12H4z" fill="none" stroke="currentColor" stroke-width="2"/><path d="M4 8l8 5 8-5" fill="none" stroke="currentColor" stroke-width="2"/></svg>
              </span>
            </div>
            <p class="err" id="eCorreo"></p>

            <label class="label">Contraseña</label>
            <div class="input-wrap">
              <input id="pwd1" name="pwd1" type="password" placeholder="********" autocomplete="new-password" required>
              <button class="eye" type="button" aria-label="Mostrar u ocultar contraseña"></button>
              <span class="icon">
                <svg viewBox="0 0 24 24"><rect x="4" y="11" width="16" height="9" rx="2" fill="none" stroke="currentColor" stroke-width="2"/><path d="M8 11V8a4 4 0 0 1 8 0v3" fill="none" stroke="currentColor" stroke-width="2"/></svg>
              </span>
            </div>
            <p class="err" id="ePwd1"></p>
            <p class="strength" id="sPwd1"></p>

            <label class="label">Confirmar contraseña</label>
            <div class="input-wrap">
              <input id="pwd2" name="pwd2" type="password" placeholder="********" autocomplete="new-password" required>
              <button class="eye" type="button" aria-label="Mostrar u ocultar contraseña"></button>
              <span class="icon">
                <svg viewBox="0 0 24 24"><path d="M5 12l5 5L19 7" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </span>
            </div>
            <p class="err" id="ePwd2"></p>

            <button class="btn-primary" type="submit">REGISTRAR</button>
          </form>
        </div>
      </section>
    </main>
  </div>

  <script src="{% static 'js/registrar-usuario.js' %}?v=3"></script>
</body>
</html>
